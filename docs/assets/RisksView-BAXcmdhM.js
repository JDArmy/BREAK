import{n as e,v as a,w as r}from"./element-plus-D5xJ9DPN.js";import{B as l}from"./BREAK-BP-I2eRa.js";import{i as s,A as t,R as i,_ as o}from"./index-C-Ob5KKK.js";import{u as n}from"./useAnchorTable-DAndyDnM.js";import{d as u,a9 as p,A as d,D as c,E as K,U as m,O as y,ab as k,B as w,Q as f,_ as b,ac as v,u as $,b as h}from"./vue-CxVCOtPj.js";import"./BREAK-Risks-tud6J5-y.js";import"./BREAK-utils-dekRhMIS.js";import"./BREAK-Avoidances-CkuVuIR8.js";import"./BREAK-AttackTools-B7v_fDTB.js";import"./BREAK-ThreatActors-DscyYbs6.js";import"./vue-router-BEXBg7Fd.js";import"./relation-graph-CUtAT3hc.js";import"./vue-i18n-B9uFukkq.js";const A={id:"risks-list"},_=["id"],R=["onClick"],j=o(u({__name:"RisksView",setup(o){const u=h(!1),j=h(""),B=Object.keys(l.risks).map(e=>({...l.risks[e],rKey:e})),E=h(!1),x=h(""),{getTableHeight:C,tableRowClassName:g}=n("rKey");return(l,o)=>{const n=e,h=p("router-link"),D=a,T=r;return d(),c(y,null,[K("h3",null,m(l.$t("menu.risks")),1),K("div",A,[(d(!0),c(y,null,k($(B),e=>(d(),w(h,{key:e.rKey,title:e.definition,class:"router-link ml-2",to:{name:"risks",hash:"#"+e.rKey}},{default:f(()=>[b(n,{size:"small",round:"",class:"ml-2"},{default:f(()=>[v(m(e.rKey)+":"+m(l.$t(`BREAK.risks.${e.rKey}.title`)),1)]),_:2},1024)]),_:2},1032,["title","to"]))),128))]),b(T,{height:$(C)(),"scrollbar-always-on":!0,data:$(B),"row-class-name":$(g),stripe:"",border:""},{default:f(()=>[b(D,{prop:"rKey",width:"135px",label:l.$t("riskKey")},{default:f(e=>[K("a",{id:e.row.rKey,class:"anchor-position"},null,8,_),K("a",{onClick:a=>{x.value=e.row.rKey,E.value=!0},href:"javascript:void(0);"},m(e.row.rKey),9,R),b(h,{title:l.$t("relationMap"),class:"relation-map-icon",to:{name:"relation",params:{type:"risk",key:e.row.rKey}}},{default:f(()=>[b(s,{width:"14px",height:"14px"})]),_:1},8,["title","to"])]),_:1},8,["label"]),b(D,{prop:"title",width:"150px",label:l.$t("riskTitle")},{default:f(e=>[v(m(e.row.rKey?l.$t(`BREAK.risks.${e.row.rKey}.title`):""),1)]),_:1},8,["label"]),b(D,{prop:"definition",label:l.$t("riskDefinition")},{default:f(e=>[v(m(e.row.rKey?l.$t(`BREAK.risks.${e.row.rKey}.definition`):""),1)]),_:1},8,["label"]),b(D,{prop:"description",label:l.$t("riskDescription")},{default:f(e=>[v(m(e.row.rKey?l.$t(`BREAK.risks.${e.row.rKey}.description`):""),1)]),_:1},8,["label"]),b(D,{prop:"complexity",width:"100px",label:l.$t("riskComplexity")},{default:f(e=>[v(m(e.row.rKey?l.$t(`BREAK.risks.${e.row.rKey}.complexity`):""),1)]),_:1},8,["label"]),b(D,{prop:"influence",label:l.$t("riskInfluence")},{default:f(e=>[v(m(e.row.rKey?l.$t(`BREAK.risks.${e.row.rKey}.influence`):""),1)]),_:1},8,["label"]),b(D,{label:l.$t("avoidance")},{default:f(e=>[(d(!0),c(y,null,k(e.row.avoidances,e=>(d(),w(n,{size:"small",key:e,class:"relational-link",onClick:a=>{j.value=e,u.value=!0},round:""},{default:f(()=>[v(m(e+":Â "+l.$t(`BREAK.avoidances.${e}.title`)),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["label"])]),_:1},8,["height","data","row-class-name"]),b(t,{onDrawerClose:o[0]||(o[0]=e=>u.value=!1),drawer:u.value,aKey:j.value},null,8,["drawer","aKey"]),b(i,{onDrawerClose:o[1]||(o[1]=e=>{E.value=!1,x.value=""}),drawer:E.value,rKey:x.value},null,8,["drawer","rKey"])],64)}}}),[["__scopeId","data-v-0ec5f5cb"]]);export{j as default};
