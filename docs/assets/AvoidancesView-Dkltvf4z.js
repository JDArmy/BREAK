import{p as e,n as a,u as t,v as o,c as s,l as i,w as l,x as r}from"./element-plus-D5xJ9DPN.js";import{B as n}from"./BREAK-B16kXYQ-.js";import{a as c}from"./vue-router-BEXBg7Fd.js";import{i as d,_ as u}from"./index-CSv6P5Os.js";import{d as p,b as h,w as v,a9 as f,A as m,D as y,E as w,U as K,_ as $,Q as b,O as g,ab as k,u as _,B as A,ac as E,M as j}from"./vue-CxVCOtPj.js";import"./BREAK-Risks-tud6J5-y.js";import"./BREAK-utils-dekRhMIS.js";import"./BREAK-Avoidances-CkuVuIR8.js";import"./BREAK-AttackTools-B7v_fDTB.js";import"./BREAK-ThreatActors-DscyYbs6.js";import"./relation-graph-CUtAT3hc.js";import"./vue-i18n-B9uFukkq.js";const B={class:"avoidance-category-description"},R=["id"],x={class:"reference-list"},C=["href"],O={style:{"text-align":"center",margin:"10px"}},T=u(p({__name:"AvoidancesView",setup(u){const p=c(),T=Object.keys(n.avoidanceCategories),M=Object();T.forEach(e=>{M[e]=[],Object.keys(n.avoidances).forEach(a=>{const t=n.avoidances[a];if(e!==t.category)return;const o={...t,aKey:a};M[e].push(o)})});const z=e=>{const a={};return Object.keys(n.avoidances).forEach(t=>{n.avoidances[t].category===e&&(a[t]=n.avoidances[t])}),a};let D=24;const I=(e,a)=>{let t=Math.round(e/a*24);return D=D<=0?24:D,t=t>D?D:t,D-=t,t},H=()=>p.hash.split("#")[1]?"unset":window.innerHeight-150,Q=h(H());v(()=>p.hash,()=>{Q.value=H()});const U=({row:e})=>p.hash.split("#")[1]===e.aKey?"anchor-row":"",V=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(c,u)=>{const p=a,h=f("router-link"),v=e,T=t,D=o,H=s,q=l;return m(),y(g,null,[w("h3",null,K(c.$t("menu.avoidances")),1),$(T,{gutter:20},{default:b(()=>[(m(!0),y(g,null,k(_(n).avoidanceCategories,(e,a)=>(m(),A(v,{md:I(Object.keys(_(M)[a]).length,Object.keys(_(n).avoidances).length),key:a},{default:b(()=>[w("h4",null,K(c.$t(`BREAK.avoidanceCategories.${a}.title`)),1),w("div",null,[(m(!0),y(g,null,k(z(a),(e,a)=>(m(),A(h,{key:a,title:e.definition,class:"router-link",to:{name:"avoidances",hash:"#"+a}},{default:b(()=>[$(p,{size:"small",round:"",class:"ml-2"},{default:b(()=>[E(K(a)+":"+K(c.$t(`BREAK.avoidances.${a}.title`)),1)]),_:2},1024)]),_:2},1032,["title","to"]))),128))])]),_:2},1032,["md"]))),128))]),_:1}),(m(!0),y(g,null,k(_(M),(e,a)=>(m(),y("div",{key:a},[w("div",null,[w("h4",{class:"avoidance-category-title",onClick:u[0]||(u[0]=e=>(e=>{const a=e.target;window.scrollTo({top:a.offsetTop-10,behavior:"smooth"})})(e))},K(c.$t(`BREAK.avoidanceCategories.${a}.title`))+" ("+K(_(n).avoidanceCategories[a].keyword)+") ",1),w("div",B,K(c.$t(`BREAK.avoidanceCategories.${a}.description`)),1)]),$(q,{height:Q.value,data:_(M)[a],"row-class-name":U,stripe:"",border:""},{default:b(()=>[$(D,{prop:"aKey",width:"135px",label:c.$t("ID")},{default:b(e=>[w("a",{class:"anchor-position",id:e.row.aKey},null,8,R),E(" "+K(e.row.aKey)+" ",1),$(h,{title:c.$t("relationMap"),class:"relation-map-icon",to:{name:"relation",params:{type:"avoidance",key:e.row.aKey}}},{default:b(()=>[$(d,{width:"14px",height:"14px"})]),_:1},8,["title","to"])]),_:1},8,["label"]),$(D,{width:"150px",label:c.$t("title")},{header:b(()=>[E(K(c.$t("title")),1)]),default:b(e=>[E(K(e.row.aKey?c.$t(`BREAK.avoidances.${e.row.aKey}.title`):""),1)]),_:1},8,["label"]),$(D,{label:c.$t("definition")},{default:b(e=>[E(K(e.row.aKey?c.$t(`BREAK.avoidances.${e.row.aKey}.definition`):""),1)]),_:1},8,["label"]),$(D,{label:c.$t("description")},{default:b(e=>[E(K(e.row.aKey?c.$t(`BREAK.avoidances.${e.row.aKey}.description`):""),1)]),_:1},8,["label"]),$(D,{label:c.$t("limitation")},{default:b(e=>[E(K(e.row.aKey?c.$t(`BREAK.avoidances.${e.row.aKey}.limitation`):""),1)]),_:1},8,["label"]),$(D,{width:"250px",label:c.$t("references")},{default:b(e=>[w("ul",x,[(m(!0),y(g,null,k(e.row.references,(a,t)=>(m(),y("li",{key:t},[e.row.aKey?(m(),y("a",{key:0,href:a.link,target:"_blank",rel:"noopener noreferrer"},[$(H,null,{default:b(()=>[$(_(i))]),_:1}),E(K(c.$t(`BREAK.avoidances.${e.row.aKey}.references[${t}].title`)),1)],8,C)):j("",!0)]))),128))])]),_:1},8,["label"])]),_:1},8,["height","data"])]))),128)),w("div",O,[$(p,{type:"primary",size:"small",onClick:V,icon:_(r)},{default:b(()=>[E(K(c.$t("backtop")),1)]),_:1},8,["icon"])])],64)}}}),[["__scopeId","data-v-1b123743"]]);export{T as default};
