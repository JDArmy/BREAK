import{p as e,n as a,u as t,v as o,c as i,l as s,w as l,x as r}from"./element-plus-D5xJ9DPN.js";import{B as n}from"./BREAK-CM8PTdKU.js";import{a as c}from"./vue-router-BEXBg7Fd.js";import{i as d,_ as p}from"./index-0zVIafC2.js";import{d as u,b as h,w as m,a9 as v,A as f,D as y,E as K,U as w,_ as $,Q as b,O as j,ab as A,u as g,B as k,ac as _,M as E}from"./vue-CxVCOtPj.js";import"./BREAK-Risks-DMiI0UIt.js";import"./BREAK-utils-dekRhMIS.js";import"./BREAK-Avoidances-BOPqrAAw.js";import"./BREAK-AttackTools-BgWwAZyj.js";import"./BREAK-ThreatActors-Cf0Xzauk.js";import"./vue-i18n-U3rzzJhO.js";import"./i18n-Cdryem0J.js";import"./i18n-en-BREAK-Bxj9UzKq.js";import"./i18n-en-Risks-DXLA79w3.js";import"./i18n-en-Avoidances-Blv5qRuf.js";import"./i18n-en-AttackTools-ChLBQ1zn.js";import"./i18n-en-ThreatActors-DGJmeNBL.js";import"./relation-graph-CUtAT3hc.js";const B={class:"avoidance-category-description"},R=["id"],x={class:"reference-list"},C=["href"],O={style:{"text-align":"center",margin:"10px"}},T=p(u({__name:"AvoidancesView",setup(p){const u=c(),T=Object.keys(n.avoidanceCategories),M=Object();T.forEach(e=>{M[e]=[],Object.keys(n.avoidances).forEach(a=>{const t=n.avoidances[a];if(e!==t.category)return;const o={...t,aKey:a};M[e].push(o)})});const z=e=>{const a={};return Object.keys(n.avoidances).forEach(t=>{n.avoidances[t].category===e&&(a[t]=n.avoidances[t])}),a};let D=24;const I=(e,a)=>{let t=Math.round(e/a*24);return D=D<=0?24:D,t=t>D?D:t,D-=t,t},H=()=>u.hash.split("#")[1]?"unset":window.innerHeight-150,Q=h(H());m(()=>u.hash,()=>{Q.value=H()});const U=({row:e})=>u.hash.split("#")[1]===e.aKey?"anchor-row":"",V=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(c,p)=>{const u=a,h=v("router-link"),m=e,T=t,D=o,H=i,q=l;return f(),y(j,null,[K("h3",null,w(c.$t("menu.avoidances")),1),$(T,{gutter:20},{default:b(()=>[(f(!0),y(j,null,A(g(n).avoidanceCategories,(e,a)=>(f(),k(m,{md:I(Object.keys(g(M)[a]).length,Object.keys(g(n).avoidances).length),key:a},{default:b(()=>[K("h4",null,w(c.$t(`BREAK.avoidanceCategories.${a}.title`)),1),K("div",null,[(f(!0),y(j,null,A(z(a),(e,a)=>(f(),k(h,{key:a,title:e.definition,class:"router-link",to:{name:"avoidances",hash:"#"+a}},{default:b(()=>[$(u,{size:"small",round:"",class:"ml-2"},{default:b(()=>[_(w(a)+":"+w(c.$t(`BREAK.avoidances.${a}.title`)),1)]),_:2},1024)]),_:2},1032,["title","to"]))),128))])]),_:2},1032,["md"]))),128))]),_:1}),(f(!0),y(j,null,A(g(M),(e,a)=>(f(),y("div",{key:a},[K("div",null,[K("h4",{class:"avoidance-category-title",onClick:p[0]||(p[0]=e=>(e=>{const a=e.target;window.scrollTo({top:a.offsetTop-10,behavior:"smooth"})})(e))},w(c.$t(`BREAK.avoidanceCategories.${a}.title`))+" ("+w(g(n).avoidanceCategories[a].keyword)+") ",1),K("div",B,w(c.$t(`BREAK.avoidanceCategories.${a}.description`)),1)]),$(q,{height:Q.value,data:g(M)[a],"row-class-name":U,stripe:"",border:""},{default:b(()=>[$(D,{prop:"aKey",width:"135px",label:c.$t("ID")},{default:b(e=>[K("a",{class:"anchor-position",id:e.row.aKey},null,8,R),_(" "+w(e.row.aKey)+" ",1),$(h,{title:c.$t("relationMap"),class:"relation-map-icon",to:{name:"relation",params:{type:"avoidance",key:e.row.aKey}}},{default:b(()=>[$(d,{width:"14px",height:"14px"})]),_:1},8,["title","to"])]),_:1},8,["label"]),$(D,{width:"150px",label:c.$t("title")},{header:b(()=>[_(w(c.$t("title")),1)]),default:b(e=>[_(w(e.row.aKey?c.$t(`BREAK.avoidances.${e.row.aKey}.title`):""),1)]),_:1},8,["label"]),$(D,{label:c.$t("definition")},{default:b(e=>[_(w(e.row.aKey?c.$t(`BREAK.avoidances.${e.row.aKey}.definition`):""),1)]),_:1},8,["label"]),$(D,{label:c.$t("description")},{default:b(e=>[_(w(e.row.aKey?c.$t(`BREAK.avoidances.${e.row.aKey}.description`):""),1)]),_:1},8,["label"]),$(D,{label:c.$t("limitation")},{default:b(e=>[_(w(e.row.aKey?c.$t(`BREAK.avoidances.${e.row.aKey}.limitation`):""),1)]),_:1},8,["label"]),$(D,{width:"250px",label:c.$t("references")},{default:b(e=>[K("ul",x,[(f(!0),y(j,null,A(e.row.references,(a,t)=>(f(),y("li",{key:t},[e.row.aKey?(f(),y("a",{key:0,href:a.link,target:"_blank",rel:"noopener noreferrer"},[$(H,null,{default:b(()=>[$(g(s))]),_:1}),_(w(c.$t(`BREAK.avoidances.${e.row.aKey}.references[${t}].title`)),1)],8,C)):E("",!0)]))),128))])]),_:1},8,["label"])]),_:1},8,["height","data"])]))),128)),K("div",O,[$(u,{type:"primary",size:"small",onClick:V,icon:g(r)},{default:b(()=>[_(w(c.$t("backtop")),1)]),_:1},8,["icon"])])],64)}}}),[["__scopeId","data-v-1b123743"]]);export{T as default};
